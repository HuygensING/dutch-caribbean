/*!
 * Adapted from jQuery ajaxHooks v1.0pre
 *
 * Copyright 2011, Julian Aubourg
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Date: Fri Aug 12 13:54:16 2011 +0200
 */
(function(a,b,c){window.XDomainRequest&&a.ajaxTransport(function(b){if(b.crossDomain&&b.async){b.timeout&&(b.xdrTimeout=b.timeout,delete b.timeout);var d;return{send:function(e,f){function g(b,e,g,h){d.onload=d.onerror=d.ontimeout=a.noop,d=c,f(b,e,g,h)}d=new XDomainRequest,d.open(b.type,b.url),d.onload=function(){g(200,"OK",{text:d.responseText},"Content-Type: "+d.contentType)},d.onerror=function(){g(404,"Not Found")},b.xdrTimeout&&(d.ontimeout=function(){g(0,"timeout")},d.timeout=b.xdrTimeout),d.send(b.hasContent&&b.data||null)},abort:function(){d&&(d.onerror=a.noop(),d.abort())}}}})})(jQuery,document);